
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <title>For developers Â· GitBook</title>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.0-pre.1">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="styles/website.css">
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="api.html" />
    
    
    <link rel="prev" href="writing_components.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="getting_started.html">
            
                <a href="getting_started.html">
            
                    
                    Getting started
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="wab.html">
            
                <a href="wab.html">
            
                    
                    QGIS Web Application Builder
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="tutorial.html">
            
                <a href="tutorial.html">
            
                    
                    Tutorial
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="writing_components.html">
            
                <a href="writing_components.html">
            
                    
                    Writing components
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.6" data-path="developers.html">
            
                <a href="developers.html">
            
                    
                    For developers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="api.html">
            
                <a href="api.html">
            
                    
                    API
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="api/AddLayer.html">
            
                <a href="api/AddLayer.html">
            
                    
                    AddLayer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="api/Bookmarks.html">
            
                <a href="api/Bookmarks.html">
            
                    
                    Bookmarks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="api/Chart.html">
            
                <a href="api/Chart.html">
            
                    
                    Chart
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="api/Edit.html">
            
                <a href="api/Edit.html">
            
                    
                    Edit
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="api/EditPopup.html">
            
                <a href="api/EditPopup.html">
            
                    
                    EditPopup
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6" data-path="api/FeatureTable.html">
            
                <a href="api/FeatureTable.html">
            
                    
                    FeatureTable
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.7" data-path="api/Geocoding.html">
            
                <a href="api/Geocoding.html">
            
                    
                    Geocoding
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.8" data-path="api/GeocodingResults.html">
            
                <a href="api/GeocodingResults.html">
            
                    
                    GeocodingResults
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.9" data-path="api/Geolocation.html">
            
                <a href="api/Geolocation.html">
            
                    
                    Geolocation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.10" data-path="api/Globe.html">
            
                <a href="api/Globe.html">
            
                    
                    Globe
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.11" data-path="api/HomeButton.html">
            
                <a href="api/HomeButton.html">
            
                    
                    HomeButton
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.12" data-path="api/ImageExport.html">
            
                <a href="api/ImageExport.html">
            
                    
                    ImageExport
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.13" data-path="api/InfoPopup.html">
            
                <a href="api/InfoPopup.html">
            
                    
                    InfoPopup
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.14" data-path="api/LayerList.html">
            
                <a href="api/LayerList.html">
            
                    
                    LayerList
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.15" data-path="api/LoadingPanel.html">
            
                <a href="api/LoadingPanel.html">
            
                    
                    LoadingPanel
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.16" data-path="api/Login.html">
            
                <a href="api/Login.html">
            
                    
                    Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.17" data-path="api/MapConfig.html">
            
                <a href="api/MapConfig.html">
            
                    
                    MapConfig
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.18" data-path="api/Measure.html">
            
                <a href="api/Measure.html">
            
                    
                    Measure
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.19" data-path="api/Playback.html">
            
                <a href="api/Playback.html">
            
                    
                    Playback
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.20" data-path="api/QGISLegend.html">
            
                <a href="api/QGISLegend.html">
            
                    
                    QGISLegend
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.21" data-path="api/QGISPrint.html">
            
                <a href="api/QGISPrint.html">
            
                    
                    QGISPrint
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.22" data-path="api/QueryBuilder.html">
            
                <a href="api/QueryBuilder.html">
            
                    
                    QueryBuilder
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.23" data-path="api/Select.html">
            
                <a href="api/Select.html">
            
                    
                    Select
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.24" data-path="api/WFST.html">
            
                <a href="api/WFST.html">
            
                    
                    WFST
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >For developers</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="information-for-component-developers">Information for component developers</h1><h2 id="introduction">Introduction</h2><p>The Web SDK is based on EcmaScript 6 (ES6). It uses babelify to translate to ES5.
It is based on OpenLayers 3, React 15 and Flux.
For the user interface, material-ui React components are used. See <a href="http://www.material-ui.com" target="_blank">http://www.material-ui.com</a> for more information.
For internationalization, Yahoo&apos;s react-intl (v2) is used.
Node and npm are used as the development environment.</p><h2 id="react">React</h2><p>Component API (e.g. <code>componentWillMount</code>, <code>componentWillUnmount</code>) is important to know about.
Components have properties (<code>this.props</code>), more like configuration options.
Components have state (<code>this.state</code>), and on change of state (<code>setState</code>) they are re-rendered.
React uses a virtual DOM, so it can diff the changes and only apply those (performance).
Render method needs to return single root (<code>&lt;article&gt;</code> can be used as workaround).
To pass on all properties to a child component use: <code>{&#x2026;this.props}</code>.
Define <code>propTypes</code> static on the class, for example: <code>Chart.propTypes = { charts: React.PropTypes.array.isRequired };</code>.</p><h2 id="jsx">JSX</h2><p>JSX is an XML like syntax to create components. For example:</p><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">Component</span> <span class="hljs-attr">property1</span>=<span class="hljs-string">{variable1}</span> /&gt;</span></code></pre>
<p>It can be nested, and can be mixed with normal HTML.
You can use the ref property instead of the HTML id (<code>ref=&apos;map&apos;</code> in JSX and then <code>this.refs.map</code> in code).
Babelify will transform this to regular javascript.</p><h2 id="flux">Flux</h2><p>Flux means Uni-directional flow of data.
A dispatched change needs to be handled, before another one can commence.
It has concepts such as stores, actions, dispatchers.
This is internal to the SDK, the app developer should not need to know too much about it.
The store extends the standard EventEmitter class.
Stores should be singletons.
We use a central application dispatcher that extends Flux&#x2019;s Dispatcher.
Actions are functions that ask the dispatcher to handle certain actions (using constants).
Components (or stores) can register listener from actions on the dispatcher. An example:</p><pre><code class="lang-javascript">AppDispatcher.register((payload) =&gt; {
  <span class="hljs-keyword">let</span> action = payload.action;
  <span class="hljs-keyword">switch</span>(action.type) {
    <span class="hljs-keyword">case</span> SelectConstants.SELECT_FEATURES_IN:
      <span class="hljs-comment">// do something</span>
      <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">default</span>:
      <span class="hljs-keyword">break</span>;
  }
});</code></pre>
<h2 id="internationalisation-i18n">Internationalisation (i18n)</h2><p>At the component level:</p><pre><code class="lang-javascript">import {defineMessages, injectIntl, intlShape} from &#x2018;react-intl&apos;;

const messages = defineMessages({
  buttontitle: {
    id: &apos;homebutton.buttontitle&apos;,
    description: &apos;Title for the home button&apos;,
    defaultMessage: &apos;Home&apos;
  }
});

class HomeButton extends React.Component {
  render() {
    const {formatMessage} = this.props.intl;
    return (
      &lt;button title={formatMessage(messages.buttontitle)} /&gt;
    );
  }
}

HomeButton.propTypes = {
 intl: intlShape.isRequired
};

export default injectIntl(HomeButton);</code></pre>
<p>At the application level:</p><pre><code class="lang-javascript">import {addLocaleData, IntlProvider} from &#x2018;react-intl&apos;;
import enLocaleData from &apos;react-intl/dist/locale-data/en.js&apos;;
import enMessages from &apos;boundless-sdk/locale/en.js&apos;;

addLocaleData(
  enLocaleData
);

ReactDOM.render(&lt;IntlProvider locale=&apos;en&apos; messages={enMessages}&gt;&lt;App /&gt;&lt;/IntlProvider&gt;, document.getElementById(&apos;main&apos;));</code></pre>
<p>We use the babel-plugin-react-intl to extract messages from source code.
It generates JSON files per component.
<code>npm run i18n</code> generates i18n template for all components in <code>locale/en.js</code>
In <code>.babelrc</code> this is activated with:</p><pre><code class="lang-json">  <span class="hljs-string">&quot;plugins&quot;</span>: [<span class="hljs-string">&quot;react-intl&quot;</span>],
  <span class="hljs-string">&quot;extra&quot;</span>: {
    <span class="hljs-string">&quot;react-intl&quot;</span>: {
      <span class="hljs-string">&quot;messagesDir&quot;</span>: <span class="hljs-string">&quot;./build/messages/&quot;</span>,
      <span class="hljs-string">&quot;enforceDescriptions&quot;</span>: <span class="hljs-literal">true</span>
    }
  }</code></pre>
<h2 id="api-docs">API docs</h2><p>Uses <code>react-docgen</code>, which reads a documentation block on top of the class and a documentation block on top of each prop.
<code>npm run generate:docs</code> will generate the API docs.</p><h2 id="css">CSS</h2><p>Two approaches are used:</p><ul><li>dr-frankenstyle
</li>
<li>cssify (browserify transform)
</li></ul>
<h3 id="dr-frankenstyle">dr-frankenstyle</h3><p>Tool by Pivotal that looks for style keys in package.json of all node dependencies.
It will bundle this up with all the resources (fonts, images).
<code>dr-frankenstyle</code> is used to generates dist/css/* for the SDK.</p><h3 id="cssify">cssify</h3><p>A post install task copies css files needed from external components (such as fixed-data-table).
By using import statements to css files, browserify bundles up the css (but won&#x2019;t copy any needed resources, so this only works for plain css).</p><pre><code class="lang-javascript">  <span class="hljs-keyword">import</span> <span class="hljs-string">&apos;./FeatureTable.css&apos;</span>;</code></pre>
<h2 id="debug-server">Debug server</h2><p>Can be used by any Web SDK application. In <code>package.json</code>:</p><pre><code>  &quot;sdk-debug-server&quot;: &quot;git+https://github.com/bartvde/sdk-debug-server.git&quot;</code></pre>
<p>To use it in a node script file:</p><pre><code class="lang-javascript"><span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;sdk-debug-server&apos;</span>).startServer();</code></pre>
<p>Any application generated by the <code>web-sdk</code> will facilitate this.</p><h2 id="proxy-to-local-geoserver">Proxy to local geoserver</h2><p>Add the following dependency to your <code>package.json</code>:</p><pre><code>&quot;json-http-proxy&quot;: &quot;1.0.0-ALPHA-4&quot;,</code></pre>
<p>To start the proxy, add a script to the <code>package.json</code> file:</p><pre><code>&quot;start:proxy&quot;: &quot;node_modules/.bin/json-http-proxy -p 4000&quot;,</code></pre>
<p>Using <code>npm run start:proxy</code> will start up the proxy server on port 4000 using config from <code>proxy-config.json</code>:</p><pre><code class="lang-json">{
  <span class="hljs-string">&quot;routes&quot;</span>: [
    {
      <span class="hljs-string">&quot;path&quot;</span>: <span class="hljs-string">&quot;/geoserver/*&quot;</span>,
      <span class="hljs-string">&quot;upstream&quot;</span>: <span class="hljs-string">&quot;geoserver&quot;</span>
    },
    {
      <span class="hljs-string">&quot;path&quot;</span>: <span class="hljs-string">&quot;/*&quot;</span>,
      <span class="hljs-string">&quot;upstream&quot;</span>: <span class="hljs-string">&quot;default&quot;</span>
    }
  ],
  <span class="hljs-string">&quot;upstreams&quot;</span>: {
    <span class="hljs-string">&quot;geoserver&quot;</span>: {
      <span class="hljs-string">&quot;protocol&quot;</span>: <span class="hljs-string">&quot;http&quot;</span>,
      <span class="hljs-string">&quot;hostname&quot;</span>: <span class="hljs-string">&quot;localhost&quot;</span>,
      <span class="hljs-string">&quot;port&quot;</span>: <span class="hljs-number">8080</span>
    },
    <span class="hljs-string">&quot;default&quot;</span>: {
      <span class="hljs-string">&quot;port&quot;</span>: <span class="hljs-number">3000</span>
    }
  }
}</code></pre>
<p>This means in another shell you will need to start up the normal debug server on port 3000 using <code>npm start</code>.</p>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="writing_components.html" class="navigation navigation-prev " aria-label="Previous page: Writing components">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="api.html" class="navigation navigation-next " aria-label="Next page: API">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"For developers","level":"1.6","depth":1,"next":{"title":"API","level":"1.7","depth":1,"path":"api.md","ref":"api.md","articles":[{"title":"AddLayer","level":"1.7.1","depth":2,"path":"api/AddLayer.md","ref":"api/AddLayer.md","articles":[]},{"title":"Bookmarks","level":"1.7.2","depth":2,"path":"api/Bookmarks.md","ref":"api/Bookmarks.md","articles":[]},{"title":"Chart","level":"1.7.3","depth":2,"path":"api/Chart.md","ref":"api/Chart.md","articles":[]},{"title":"Edit","level":"1.7.4","depth":2,"path":"api/Edit.md","ref":"api/Edit.md","articles":[]},{"title":"EditPopup","level":"1.7.5","depth":2,"path":"api/EditPopup.md","ref":"api/EditPopup.md","articles":[]},{"title":"FeatureTable","level":"1.7.6","depth":2,"path":"api/FeatureTable.md","ref":"api/FeatureTable.md","articles":[]},{"title":"Geocoding","level":"1.7.7","depth":2,"path":"api/Geocoding.md","ref":"api/Geocoding.md","articles":[]},{"title":"GeocodingResults","level":"1.7.8","depth":2,"path":"api/GeocodingResults.md","ref":"api/GeocodingResults.md","articles":[]},{"title":"Geolocation","level":"1.7.9","depth":2,"path":"api/Geolocation.md","ref":"api/Geolocation.md","articles":[]},{"title":"Globe","level":"1.7.10","depth":2,"path":"api/Globe.md","ref":"api/Globe.md","articles":[]},{"title":"HomeButton","level":"1.7.11","depth":2,"path":"api/HomeButton.md","ref":"api/HomeButton.md","articles":[]},{"title":"ImageExport","level":"1.7.12","depth":2,"path":"api/ImageExport.md","ref":"api/ImageExport.md","articles":[]},{"title":"InfoPopup","level":"1.7.13","depth":2,"path":"api/InfoPopup.md","ref":"api/InfoPopup.md","articles":[]},{"title":"LayerList","level":"1.7.14","depth":2,"path":"api/LayerList.md","ref":"api/LayerList.md","articles":[]},{"title":"LoadingPanel","level":"1.7.15","depth":2,"path":"api/LoadingPanel.md","ref":"api/LoadingPanel.md","articles":[]},{"title":"Login","level":"1.7.16","depth":2,"path":"api/Login.md","ref":"api/Login.md","articles":[]},{"title":"MapConfig","level":"1.7.17","depth":2,"path":"api/MapConfig.md","ref":"api/MapConfig.md","articles":[]},{"title":"Measure","level":"1.7.18","depth":2,"path":"api/Measure.md","ref":"api/Measure.md","articles":[]},{"title":"Playback","level":"1.7.19","depth":2,"path":"api/Playback.md","ref":"api/Playback.md","articles":[]},{"title":"QGISLegend","level":"1.7.20","depth":2,"path":"api/QGISLegend.md","ref":"api/QGISLegend.md","articles":[]},{"title":"QGISPrint","level":"1.7.21","depth":2,"path":"api/QGISPrint.md","ref":"api/QGISPrint.md","articles":[]},{"title":"QueryBuilder","level":"1.7.22","depth":2,"path":"api/QueryBuilder.md","ref":"api/QueryBuilder.md","articles":[]},{"title":"Select","level":"1.7.23","depth":2,"path":"api/Select.md","ref":"api/Select.md","articles":[]},{"title":"WFST","level":"1.7.24","depth":2,"path":"api/WFST.md","ref":"api/WFST.md","articles":[]}]},"previous":{"title":"Writing components","level":"1.5","depth":1,"path":"writing_components.md","ref":"writing_components.md","articles":[]},"dir":"ltr"},"config":{"plugins":[],"root":"docs","styles":{"website":"styles/website.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"gitbook":"*"},"file":{"path":"developers.md","mtime":"2016-10-31T08:57:26.828Z","type":"markdown"},"gitbook":{"version":"3.2.0-pre.1","time":"2016-10-31T09:02:34.874Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

